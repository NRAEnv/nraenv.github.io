<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Certiq.Backend.DNNRCSparkIRRewrites</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Certiq.Backend.DNNRCSparkIRRewrites</h1>

<div class="code">

<br/>

<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="DNNRCSparkIRRewrites"><span class="id" title="section">DNNRCSparkIRRewrites</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">f</span>:<a class="idref" href="Certiq.Basic.ForeignRuntime.html#foreign_runtime"><span class="id" title="class">foreign_runtime</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">h</span>:<a class="idref" href="Certiq.Basic.Data.BrandRelation.html#brand_relation_t"><span class="id" title="definition">brand_relation_t</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ftype</span>:<a class="idref" href="Certiq.Basic.TypeSystem.ForeignType.html#foreign_type"><span class="id" title="class">foreign_type</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">m</span>:<a class="idref" href="Certiq.Basic.TypeSystem.TBrandModel.html#brand_model"><span class="id" title="class">brand_model</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fdtyping</span>:<a class="idref" href="Certiq.Basic.Typing.ForeignDataTyping.html#foreign_data_typing"><span class="id" title="class">foreign_data_typing</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fboptyping</span>:<a class="idref" href="Certiq.Basic.Typing.ForeignOpsTyping.html#foreign_binary_op_typing"><span class="id" title="class">foreign_binary_op_typing</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fuoptyping</span>:<a class="idref" href="Certiq.Basic.Typing.ForeignOpsTyping.html#foreign_unary_op_typing"><span class="id" title="class">foreign_unary_op_typing</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fttjs</span>: <a class="idref" href="Certiq.Backend.ForeignToJavascript.html#foreign_to_javascript"><span class="id" title="class">ForeignToJavascript.foreign_to_javascript</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>} {<span class="id" title="var">P</span>: <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#P"><span class="id" title="variable">P</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#P"><span class="id" title="variable">P</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="tactic">try</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e'</span> ⇒ <span class="id" title="var">e'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCConst"><span class="id" title="constructor">DNRCConst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCBinop"><span class="id" title="constructor">DNRCBinop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCBinop"><span class="id" title="constructor">DNRCBinop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#y'"><span class="id" title="variable">y'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCLet"><span class="id" title="constructor">DNRCLet</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCLet"><span class="id" title="constructor">DNRCLet</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#y'"><span class="id" title="variable">y'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#y'"><span class="id" title="variable">y'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCIf"><span class="id" title="constructor">DNRCIf</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">z</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCIf"><span class="id" title="constructor">DNRCIf</span></a> <span class="id" title="var">a</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#z'"><span class="id" title="variable">z'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCEither"><span class="id" title="constructor">DNRCEither</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">c</span> <span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">z</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCEither"><span class="id" title="constructor">DNRCEither</span></a> <span class="id" title="var">a</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a> <span class="id" title="var">b</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#y'"><span class="id" title="variable">y'</span></a> <span class="id" title="var">c</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#z'"><span class="id" title="variable">z'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">a</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCDispatch"><span class="id" title="constructor">DNRCDispatch</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#tryBottomUp"><span class="id" title="definition">tryBottomUp</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCDispatch"><span class="id" title="constructor">DNRCDispatch</span></a> <span class="id" title="var">a</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#x'"><span class="id" title="variable">x'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCAlg"><span class="id" title="constructor">DNRCAlg</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#try"><span class="id" title="variable">try</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Discover the traditional casting the world pattern:
<a name="lab5"></a><h1 class="section">Iterate over a collection (the world), cast the element and perform some action on success, return the empty collection otherwise, and flatten at the end.</h1>

<a name="lab6"></a><h1 class="section">We can translate this into a filter with a user defined cast function.</h1>

<a name="lab7"></a><h1 class="section">We do not inline unbranding, as we would have to make sure that we don't use the branded value anywhere.</h1>

   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="rec_cast_to_filter"><span class="id" title="definition">rec_cast_to_filter</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">t3</span> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCEither"><span class="id" title="constructor">DNRCEither</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t4</span> (<a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#ACast"><span class="id" title="constructor">ACast</span></a> <span class="id" title="var">brands</span>) (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">leftVar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">leftE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCConst"><span class="id" title="constructor">DNNRC.DNRCConst</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Certiq.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)))) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Classes.EquivDec.html#7a685bfbc4244b7a2e1f8ce9d7060e7a"><span class="id" title="notation">==</span></a> <span class="id" title="var">x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Basic.Util.RLift.html#olift"><span class="id" title="definition">olift</span></a> <a class="idref" href="Certiq.Basic.Typing.TOpsInfer.html#tuneither"><span class="id" title="definition">tuneither</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#lift_tlocal"><span class="id" title="definition">lift_tlocal</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#ta_inferred"><span class="id" title="projection">ta_inferred</span></a> <span class="id" title="var">t4</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">castSuccessType</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">algTypeA</span> := <a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#ta_mk"><span class="id" title="definition">ta_mk</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#ta_base"><span class="id" title="projection">ta_base</span></a> <span class="id" title="var">t4</span>) (<a class="idref" href="Certiq.Basic.TypeSystem.DType.html#Tdistr"><span class="id" title="constructor">Tdistr</span></a> <span class="id" title="var">castSuccessType</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">collectTypeA</span> := <a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#ta_mk"><span class="id" title="definition">ta_mk</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#ta_base"><span class="id" title="projection">ta_base</span></a> <span class="id" title="var">t3</span>) (<a class="idref" href="Certiq.Basic.TypeSystem.DType.html#Tlocal"><span class="id" title="constructor">Tlocal</span></a> (<a class="idref" href="Certiq.Basic.TypeSystem.RType.html#Coll"><span class="id" title="definition">Coll</span></a> <span class="id" title="var">castSuccessType</span>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ALG</span> := (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCAlg"><span class="id" title="constructor">DNRCAlg</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#algTypeA"><span class="id" title="variable">algTypeA</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSFilter"><span class="id" title="constructor">DSFilter</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CUDFCast"><span class="id" title="constructor">CUDFCast</span></a> "_ignored" <span class="id" title="var">brands</span> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> "$type"))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSVar"><span class="id" title="constructor">DSVar</span></a> "map_cast"))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>"map_cast"%<span class="id" title="var">string</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">xs</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">leftVar</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#collectTypeA"><span class="id" title="variable">collectTypeA</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#ALG"><span class="id" title="variable">ALG</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">leftE</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>} {<span class="id" title="var">P</span>: <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#P"><span class="id" title="variable">P</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#AUnbrand"><span class="id" title="constructor">AUnbrand</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">v</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Classes.EquivDec.html#7a685bfbc4244b7a2e1f8ce9d7060e7a"><span class="id" title="notation">==</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Classes.EquivDec.html#7a685bfbc4244b7a2e1f8ce9d7060e7a"><span class="id" title="notation">==</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCConst"><span class="id" title="constructor">DNRCConst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCBinop"><span class="id" title="constructor">DNRCBinop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift2"><span class="id" title="definition">lift2</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCBinop"><span class="id" title="constructor">DNRCBinop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCLet"><span class="id" title="constructor">DNRCLet</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift2"><span class="id" title="definition">lift2</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCLet"><span class="id" title="constructor">DNRCLet</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift2"><span class="id" title="definition">lift2</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCIf"><span class="id" title="constructor">DNRCIf</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>, <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">y</span>, <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">z</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCIf"><span class="id" title="constructor">DNRCIf</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> <span class="id" title="var">z'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCEither"><span class="id" title="constructor">DNRCEither</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">c</span> <span class="id" title="var">z</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>, <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">y</span>, <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">z</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCEither"><span class="id" title="constructor">DNRCEither</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x'</span> <span class="id" title="var">b</span> <span class="id" title="var">y'</span> <span class="id" title="var">c</span> <span class="id" title="var">z'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCDispatch"><span class="id" title="constructor">DNRCDispatch</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCDispatch"><span class="id" title="constructor">DNRCDispatch</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCAlg"><span class="id" title="constructor">DNRCAlg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="rec_lift_unbrand"><span class="id" title="definition">rec_lift_unbrand</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">x</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">c</span>) <span class="id" title="var">e</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#lift_tlocal"><span class="id" title="definition">lift_tlocal</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#di_required_typeof"><span class="id" title="definition">di_required_typeof</span></a> <span class="id" title="var">c</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Certiq.Basic.TypeSystem.RType.html#eb6520be0501d51e87e3b0e933a3be2c"><span class="id" title="constructor">Coll₀</span></a> (<a class="idref" href="Certiq.Basic.TypeSystem.RType.html#5edf5e22af2687c0812153e87c0c2a2c"><span class="id" title="constructor">Brand₀</span></a> <span class="id" title="var">bs</span>)) <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="Certiq.Basic.TypeSystem.TBrandModelProp.html#brands_type"><span class="id" title="definition">brands_type</span></a> <span class="id" title="var">bs</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#rewrite_unbrand_or_fail"><span class="id" title="definition">rewrite_unbrand_or_fail</span></a> <span class="id" title="var">x</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ALG</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCAlg"><span class="id" title="constructor">DNRCAlg</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc_annotation_get"><span class="id" title="definition">dnrc_annotation_get</span></a> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSSelect"><span class="id" title="constructor">DSSelect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CAs"><span class="id" title="constructor">CAs</span></a> "$blob" (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> "unbranded.$blob")<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::(</span></a><a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CAs"><span class="id" title="constructor">CAs</span></a> "$known" (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> "unbranded.$known")<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSSelect"><span class="id" title="constructor">DSSelect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CUDFUnbrand"><span class="id" title="constructor">CUDFUnbrand</span></a> "unbranded" <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> "$data")<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSVar"><span class="id" title="constructor">DSVar</span></a> "lift_unbrand")))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>"lift_unbrand"%<span class="id" title="var">string</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">xs</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">x</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">t2</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#ALG"><span class="id" title="variable">ALG</span></a>) <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="condition_to_column"><span class="id" title="definition">condition_to_column</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cname</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">binding</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#column"><span class="id" title="inductive">column</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#ADot"><span class="id" title="constructor">ADot</span></a> <span class="id" title="var">fld</span>) (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCVar"><span class="id" title="constructor">DNRCVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">var</span>, <span class="id" title="var">_</span>) := <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#binding"><span class="id" title="variable">binding</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Classes.EquivDec.html#7a685bfbc4244b7a2e1f8ce9d7060e7a"><span class="id" title="notation">==</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#var"><span class="id" title="variable">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CAs"><span class="id" title="constructor">CAs</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#cname"><span class="id" title="variable">cname</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> ("$known."%<span class="id" title="var">string</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">fld</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCConst"><span class="id" title="constructor">DNRCConst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> ⇒ <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CLit"><span class="id" title="constructor">CLit</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#cname"><span class="id" title="variable">cname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a>) (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#lift_tlocal"><span class="id" title="definition">lift_tlocal</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#di_required_typeof"><span class="id" title="definition">di_required_typeof</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCBinop"><span class="id" title="constructor">DNRCBinop</span></a> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Basic.Operators.RBinaryOps.html#AEq"><span class="id" title="constructor">AEq</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#condition_to_column"><span class="id" title="definition">condition_to_column</span></a> <span class="id" title="var">l</span> "l" <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#binding"><span class="id" title="variable">binding</span></a>, <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#condition_to_column"><span class="id" title="definition">condition_to_column</span></a> <span class="id" title="var">r</span> "r" <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#binding"><span class="id" title="variable">binding</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">l'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">r'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CEq"><span class="id" title="constructor">CEq</span></a> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#cname"><span class="id" title="variable">cname</span></a> <span class="id" title="var">l'</span> <span class="id" title="var">r'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="rec_if_else_empty_to_filter"><span class="id" title="definition">rec_if_else_empty_to_filter</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>: <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc"><span class="id" title="inductive">dnrc</span></a> (<a class="idref" href="Certiq.DNNRC.Typing.TDNRCInfer.html#type_annotation"><span class="id" title="record">type_annotation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#dataset"><span class="id" title="inductive">dataset</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">x</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">t3</span> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCIf"><span class="id" title="constructor">DNRCIf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">condition</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">thenE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCConst"><span class="id" title="constructor">DNNRC.DNRCConst</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Certiq.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)))) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#condition_to_column"><span class="id" title="definition">condition_to_column</span></a> <span class="id" title="var">condition</span> "ignored" <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#CCol"><span class="id" title="constructor">CCol</span></a> "abc"<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ALG</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCAlg"><span class="id" title="constructor">DNRCAlg</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#dnrc_annotation_get"><span class="id" title="definition">dnrc_annotation_get</span></a> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSFilter"><span class="id" title="constructor">DSFilter</span></a> <span class="id" title="var">c'</span> (<a class="idref" href="Certiq.DNNRC.Calculus.SparkIR.html#DSVar"><span class="id" title="constructor">DSVar</span></a> "if_else_empty_to_filter"))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>"if_else_empty_to_filter"%<span class="id" title="var">string</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">xs</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCUnop"><span class="id" title="constructor">DNRCUnop</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Certiq.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCFor"><span class="id" title="constructor">DNRCFor</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">x</span> (<a class="idref" href="Certiq.DNNRC.Calculus.DNNRC.html#DNRCCollect"><span class="id" title="constructor">DNRCCollect</span></a> <span class="id" title="var">t3</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#ALG"><span class="id" title="variable">ALG</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">thenE</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Certiq.Backend.DNNRCSparkIRRewrites.html#DNNRCSparkIRRewrites"><span class="id" title="section">DNNRCSparkIRRewrites</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>